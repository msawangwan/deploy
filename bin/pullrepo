#!/bin/sh

# usage
# 
#   $ pullrepo <repo> <user> <token>

if [ "$#" -ne 3 ]; then
    echo "err: missing args -- terminating"; echo
    exit 1
fi

REPO=$1
BRANCH="master"
OWNER=$2
TOKEN=$3

echo "pulling from $REPO/$BRANCH as $OWNER"; echo

API="https://api.github.com"
ENDPOINT="/repos/$OWNER/$REPO/branches/$BRANCH"

curl -H "Authorization: token $TOKEN" \
     -iH "User-Agent: $OWNER" \
     "$API/$ENDPOINT"